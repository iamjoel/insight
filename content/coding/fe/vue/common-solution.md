# Vue 通用问题及解决方案
## 父组件主动调用子组件的函数
场景举例: 父组件让子组件中的输入。

### 解决方案1：用 ref。
优点：写法简单，容易理解。
缺点：高耦合。强依赖子组件的实现。可靠性低。

### 解决方案2: 子组件检测父组件的属性变化
优点：低耦合。

```
<button @click="() => controlFocus = Date.now()">
<Input :controlFocus="controlFocus">
```

## 父组件设置子元素的样式
### 解决方案1: 在父元素中覆盖子组件样式。
优点：写法简单，容易理解。
缺点：高耦合。强依赖子组件的 DOM 结构。可靠性低。

### 解决方案2: 把样式作为属性传入
优点：低耦合。

## 父组件给很深的子组件传值 & 监听很深的子组件的事件

### 解决方案1: 一层层往下传
优点：容易理解。
缺点：写法冗杂。

### 解决方案1: $parent
优点：容易理解。
缺点：高耦合。

### 解决方案2: Vuex
缺点：如果父元素下，有多个相同子组件，但子组件的值不同时，很难处理。
```js
<P1>
    <Sub />
</P1>
<P2>
    <Sub />
</P2>
```

### 解决方案3: Provide & Inject
推荐方案。

## 代码复用
### 解决方案1: 继承

### 解决方案2: 组合
Tabs 下的 Tab。

### 解决方案1: Mixin