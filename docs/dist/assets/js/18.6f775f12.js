(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{373:function(a,t,s){"use strict";s.r(t);var r=s(42),e=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"vue-通用问题及解决方案"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-通用问题及解决方案"}},[a._v("#")]),a._v(" Vue 通用问题及解决方案")]),a._v(" "),s("h2",{attrs:{id:"父组件主动调用子组件的函数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父组件主动调用子组件的函数"}},[a._v("#")]),a._v(" 父组件主动调用子组件的函数")]),a._v(" "),s("p",[a._v("场景举例: 父组件让子组件中的输入。")]),a._v(" "),s("h3",{attrs:{id:"解决方案1-用-ref。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案1-用-ref。"}},[a._v("#")]),a._v(" 解决方案1：用 ref。")]),a._v(" "),s("p",[a._v("优点：写法简单，容易理解。\n缺点：高耦合。强依赖子组件的实现。可靠性低。")]),a._v(" "),s("h3",{attrs:{id:"解决方案2-子组件检测父组件的属性变化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案2-子组件检测父组件的属性变化"}},[a._v("#")]),a._v(" 解决方案2: 子组件检测父组件的属性变化")]),a._v(" "),s("p",[a._v("优点：低耦合。")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('<button @click="() => controlFocus = Date.now()">\n<Input :controlFocus="controlFocus">\n')])])]),s("h2",{attrs:{id:"父组件设置子元素的样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父组件设置子元素的样式"}},[a._v("#")]),a._v(" 父组件设置子元素的样式")]),a._v(" "),s("h3",{attrs:{id:"解决方案1-在父元素中覆盖子组件样式。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案1-在父元素中覆盖子组件样式。"}},[a._v("#")]),a._v(" 解决方案1: 在父元素中覆盖子组件样式。")]),a._v(" "),s("p",[a._v("优点：写法简单，容易理解。\n缺点：高耦合。强依赖子组件的 DOM 结构。可靠性低。")]),a._v(" "),s("h3",{attrs:{id:"解决方案2-把样式作为属性传入"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案2-把样式作为属性传入"}},[a._v("#")]),a._v(" 解决方案2: 把样式作为属性传入")]),a._v(" "),s("p",[a._v("优点：低耦合。")]),a._v(" "),s("h2",{attrs:{id:"父组件给很深的子组件传值-监听很深的子组件的事件-props-drilling"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#父组件给很深的子组件传值-监听很深的子组件的事件-props-drilling"}},[a._v("#")]),a._v(" 父组件给很深的子组件传值 & 监听很深的子组件的事件 (props drilling)")]),a._v(" "),s("h3",{attrs:{id:"解决方案1-一层层往下传"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案1-一层层往下传"}},[a._v("#")]),a._v(" 解决方案1: 一层层往下传")]),a._v(" "),s("p",[a._v("优点：容易理解。\n缺点：写法冗杂。")]),a._v(" "),s("h3",{attrs:{id:"解决方案1-parent"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案1-parent"}},[a._v("#")]),a._v(" 解决方案1: $parent")]),a._v(" "),s("p",[a._v("优点：容易理解。\n缺点：高耦合。")]),a._v(" "),s("h3",{attrs:{id:"解决方案2-vuex"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案2-vuex"}},[a._v("#")]),a._v(" 解决方案2: Vuex")]),a._v(" "),s("p",[a._v("缺点：如果父元素下，有多个相同子组件，但子组件的值不同时，很难处理。")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("P1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Sub "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("P1")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("P2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("Sub "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("P2")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])])]),s("h3",{attrs:{id:"解决方案3-provide-inject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案3-provide-inject"}},[a._v("#")]),a._v(" 解决方案3: Provide & Inject")]),a._v(" "),s("p",[a._v("推荐方案。")]),a._v(" "),s("h2",{attrs:{id:"代码复用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#代码复用"}},[a._v("#")]),a._v(" 代码复用")]),a._v(" "),s("h3",{attrs:{id:"解决方案1-继承"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案1-继承"}},[a._v("#")]),a._v(" 解决方案1: 继承")]),a._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("A")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("extends")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("B")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h3",{attrs:{id:"解决方案2-组合"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案2-组合"}},[a._v("#")]),a._v(" 解决方案2: 组合")]),a._v(" "),s("p",[a._v("Tabs 下的 Tab。 父组件 clone 子组件，并动态改属性。")]),a._v(" "),s("h3",{attrs:{id:"解决方案3-mixin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解决方案3-mixin"}},[a._v("#")]),a._v(" 解决方案3: Mixin")])])}),[],!1,null,null,null);t.default=e.exports}}]);